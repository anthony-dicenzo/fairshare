<!DOCTYPE html>
<html>
<head>
    <title>Firebase Auth Test</title>
</head>
<body>
    <h1>Click anywhere to test Google Sign-In</h1>
    <p>This bypasses React/Vite to test Firebase directly</p>
    
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: 'AIzaSyDNsYRVOJ0sUmjdFj3qyorGtTGiUnl_S3M',
            authDomain: 'fairshare-7f83a.firebaseapp.com',
            projectId: 'fairshare-7f83a',
            appId: '1:816167207113:web:53f66b3f63459e48c24d18'
        };
        
        firebase.initializeApp(firebaseConfig);
        const provider = new firebase.auth.GoogleAuthProvider();
        
        console.log('Firebase initialized with config:', firebaseConfig);
        console.log('Auth available:', !!firebase.auth());
        console.log('Provider created:', provider);
        
        document.addEventListener('click', async function() {
            console.log('Click detected! Starting sign-in test...');
            try {
                const result = await firebase.auth().signInWithPopup(provider);
                console.log('✅ Success:', result.user);
                alert('✅ Sign-in succeeded!\n\nUser: ' + result.user.email);
            } catch (error) {
                console.error('❌ Error details:', {
                    code: error.code,
                    message: error.message,
                    details: error
                });
                alert('❌ Sign-in failed!\n\nCode: ' + error.code + '\nMessage: ' + error.message);
            }
        });
        
        // Add visual feedback
        document.body.style.cursor = 'pointer';
        document.body.addEventListener('mouseenter', function() {
            document.body.style.backgroundColor = '#f0f0f0';
        });
        document.body.addEventListener('mouseleave', function() {
            document.body.style.backgroundColor = 'white';
        });
        
        console.log('Script loaded successfully. Click anywhere to test authentication.');
    </script>
</body>
</html>