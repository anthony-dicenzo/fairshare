<!DOCTYPE html>
<html>
<head>
    <title>Firebase Auth Test</title>
</head>
<body>
    <h1>Click anywhere to test Google Sign-In</h1>
    <p>This bypasses React/Vite to test Firebase directly</p>
    
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js';
        import { getAuth, GoogleAuthProvider, signInWithPopup } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js';
        
        const firebaseConfig = {
            apiKey: 'AIzaSyDNsYRVOJ0sUmjdFj3qyorGtTGiUnl_S3M',
            authDomain: 'fairshare-7f83a.firebaseapp.com',
            projectId: 'fairshare-7f83a',
            appId: '1:816167207113:web:53f66b3f63459e48c24d18'
        };
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();
        
        console.log('Firebase initialized with config:', firebaseConfig);
        console.log('Auth object:', auth);
        console.log('Provider object:', provider);
        
        document.addEventListener('click', async () => {
            console.log('Starting sign-in test...');
            try {
                const result = await signInWithPopup(auth, provider);
                console.log('✅ Success:', result.user);
                alert('✅ Sign-in succeeded!\n\nUser: ' + result.user.email);
            } catch (error) {
                console.error('❌ Error:', error);
                alert('❌ Sign-in failed!\n\nCode: ' + error.code + '\nMessage: ' + error.message);
            }
        });
        
        window.testAuth = { auth, provider, firebaseConfig };
    </script>
</body>
</html>